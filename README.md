# –ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞ www.zoon.ru
![alt-—Ç–µ–∫—Å—Ç](https://github.com/HeyArtem/parsing_zoon/blob/main/notes/Banner.png)

–ü–∞—Ä—Å–µ—Ä —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–∞–π—Ç–∞ [Zoon.ru](https://zoon.ru ) ‚Äî –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–µ–π –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- `re` ‚Äî –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- `csv` ‚Äî –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ CSV
- `time`, `random` ‚Äî –¥–ª—è –ø–∞—É–∑
- `requests` ‚Äî –¥–ª—è GET-–∑–∞–ø—Ä–æ—Å–æ–≤
- `json` ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- `pandas` ‚Äî –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ Excel
- `BeautifulSoup` ‚Äî –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- `selenium` ‚Äî –¥–ª—è —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞ –∏ JS-—Å—Ç—Ä–∞–Ω–∏—Ü
- `urllib.parse.unquote` ‚Äî –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Å—ã–ª–æ–∫
- `certifi` ‚Äî –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ SSL-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–æ–±–∏—Ä–∞—é –¥–∞–Ω–Ω—ã–µ —Å —Å–∞–π—Ç–∞ [Zoon.ru](https://zoon.ru ) –ø–æ —Ñ–∏–ª—å—Ç—Ä—É:  
**"–ú–µ–¥–∏—Ü–∏–Ω–∞ –¥–ª—è –¥–µ—Ç–µ–π –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ"**

### –§—É–Ω–∫—Ü–∏–∏:
- `get_sources_html()`  
  –ò—Å–ø–æ–ª—å–∑—É—é `Selenium`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å HTML –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

- `get_items_urls()`  
  –ò–∑–≤–ª–µ–∫–∞—é –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è—é –∏—Ö –≤ `items_url.txt`

- `get_data()`  
  –ü–∞—Ä—Å—é –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞–∂–¥–æ–π —Å—Å—ã–ª–∫–µ:
  - –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
  - –¢–µ–ª–µ—Ñ–æ–Ω
  - –ê–¥—Ä–µ—Å
  - –°–∞–π—Ç
  - –°–æ—Ü—Å–µ—Ç–∏

---


## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é `random.uniform(2, 4)` –≤–º–µ—Å—Ç–æ `random.randrange(2, 4)`, –ø–æ—Ç–æ–º—É —á—Ç–æ:

| –ú–µ—Ç–æ–¥ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|------|------------|
| `random.uniform(2, 5)` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ** –æ—Ç `2` –¥–æ `5` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `3.78`) ‚Äî –ø–∞—É–∑–∞ –±—É–¥–µ—Ç –±–æ–ª–µ–µ **—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π** |
| `random.randrange(2, 5)` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ** –æ—Ç `2` –¥–æ `4` ‚Äî –ø–∞—É–∑–∞ –≤—ã–≥–ª—è–¥–∏—Ç –º–µ–Ω–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ |

‚úÖ –í –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç —Å–∞–π—Ç –ø–µ—Ä–µ—Å—Ç–∞–ª –æ—Ç–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Äî —Ä–µ—à–∏–ª –ø—Ä–æ–±–ª–µ–º—É, –∏—Å–ø–æ–ª—å–∑—É—è **User-Agent –æ—Ç –Ø–Ω–¥–µ–∫—Å.–ë–æ—Ç–∞**

‚úÖ –£—á—ë–ª, —á—Ç–æ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–∫–∞—Ö:
- –º–æ–∂–µ—Ç –±—ã—Ç—å "–°–∞–π—Ç" –∏–ª–∏ "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç"
- –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–π –Ω–∞–±–æ—Ä —Å–æ—Ü—Å–µ—Ç–µ–π: VK, Telegram, –∏–ª–∏ –∏—Ö –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å –≤–æ–≤—Å–µ

---
## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é –≤–º–µ—Å—Ç–æ<br/>
time.sleep(random.randrange(2, 4)) --> time.sleep(random.uniform(2, 4))


–û–±–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –º–æ–¥—É–ª—è random –¥–µ–ª–∞—é—Ç –ø–∞—É–∑—ã , –Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–º–Ω–æ–≥–æ –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- random.uniform(2, 5)<br/>
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 2 –¥–æ 5 (–Ω–∞–ø—Ä–∏–º–µ—Ä: 3.78)<br/>
–ü–∞—É–∑–∞ –±—É–¥–µ—Ç –ø–ª–∞–≤–Ω–æ–π : 2.3 —Å–µ–∫—É–Ω–¥—ã ‚Üí 4.1 —Å–µ–∫—É–Ω–¥—ã ‚Üí 2.9 —Å–µ–∫—É–Ω–¥—ã –∏ —Ç.–¥.<br/>
[!] max –ø–∞—É–∑–∞ 5<br/>
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è, –ø–∞—É–∑–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –º–µ–Ω–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ


- random.randrange(2, 5)<br/>
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 2 –¥–æ 4 (–Ω–µ –≤–∫–ª—é—á–∞—è 5)<br/>
–¢–æ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω—ã —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏—è: 2, 3, 4

‚úÖ –ö–æ–≥–¥–∞ –ø–æ—á—Ç–∏ –∑–∞–∫–æ–Ω—á–∏–ª –ø—Ä–æ–µ–∫—Ç (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–ª –¥–∞–Ω–Ω—ã–µ –∏ –ø–∏—Å–∞–ª –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã), —Å–∞–π—Ç –ø–µ—Ä–µ—Å—Ç–∞–ª –æ—Ç–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.<br/>
–í—ã–ª–µ—á–∏–ª –∏–∑–º–µ–Ω–∏–≤ user-agent. –°–¥–µ–ª–∞–ª, –∫–∞–∫ —É –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –Ø–Ω–¥–µ–∫—Å –∫—Ä–∞—É–ª–µ—Ä–∞.

‚úÖ –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –ø–∏—à–µ—Ç—Å—è "–°–∞–π—Ç", –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç". –ì–¥–µ-—Ç–æ –µ—Å—Ç—å –±–ª–æ–∫ "–°–æ—Ü.—Å–µ—Ç–∏" c telegram –∏ vk, –≥–¥–µ-—Ç–æ –µ–≥–æ –Ω–µ –Ω–µ—Ç, –≥–¥–µ-—Ç–æ —Ç–æ–ª—å–∫–æ vk –∏–ª–∏ –µ—â–µ –∫–∞–∫-—Ç–æ.  

---

## ‚ÄºÔ∏è –í—ã–≤–æ–¥—ã: ‚ÄºÔ∏è
üî¥   –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:üî¥<br/>
üî∫Ô∏è fake_useragent

```
    pip install fake_useragent
    
    from fake_useragent import UserAgent
    headers = {
        "User-Agent": ua.random
    }
```

	
üî∫Ô∏è –°–ª—É—á–∞–π–Ω—ã–µ –ø–∞—É–∑—ã
```
	time.sleep(random.uniform(2, 5))
```
	
	
üî∫Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ cookies –∏ —Å–µ—Å—Å–∏–∏

üî∫Ô∏è ```verify=certifi.where()```<br/>
	certifi ‚Äî —ç—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º—ã–π –Ω–∞–±–æ—Ä –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö CA-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ , –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–∞–º–∏ –∏ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏.
	
```
	import requests
	import certifi
	
	response = requests.get(
	    url="https://zoon.ru ",
	    headers=headers,
	    cookies=cookies,
	    verify=certifi.where()  # –≤–º–µ—Å—Ç–æ verify=True –∏–ª–∏ verify=False
	)
```

‚ö†Ô∏è –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π verify=False
–≠—Ç–æ –æ–ø–∞—Å–Ω–æ , –ø–æ—Ç–æ–º—É —á—Ç–æ, –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
–ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ MITM-–∞—Ç–∞–∫–∞–º. –°–∞–π—Ç –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Ç–µ–±—è –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å

üî∫Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –ß—Ç–æ–±—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω IP –ø–æ—Å—Ç–æ—è–Ω–Ω–æ

üî∫Ô∏è –∏—Å–∫–∞—Ç—å API —Å–∞–π—Ç–∞
	
üî∫Ô∏è –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º<br/>
–°–Ω–∞—á–∞–ª–∞ –≥–ª–∞–≤–Ω–∞—è ‚Üí –ø–æ—Ç–æ–º –∫–∞—Ä—Ç–æ—á–∫–∞ ‚Üí –ø–æ—Ç–æ–º —Å–ª–µ–¥—É—é—â–∞—è<br/>	
–ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–Ω–∞—á–∞–ª–∞ –∑–∞—Ö–æ–¥–∏—à—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –∫–ª–∏–Ω–∏–∫–∏, –ø–æ—Ç–æ–º –Ω–∞ –æ—Ç–∑—ã–≤—ã, –ø–æ—Ç–æ–º –Ω–∞ —Ñ–æ—Ç–æ
<br/>
<hr><hr>
```




## –ß—Ç–æ –±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:
- —Å–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- –æ—Ç–∫—Ä—ã—Ç—å –Ω—É–∂–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π-Code-HTTPS-—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É

```
$ git clone + —Å—Å—ã–ª–∫–∞
```
- –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º

```
$ python3 -m venv venv -—Å–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

```
$ source venv/bin/activate -–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ 
```

```
$ pip install -U pip setuptools 
```

```
$ pip install -r requirements.txt -—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ requirements.txt 
```

```
$ code . -–æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ VS Code
```

<br/>
<hr>

### –£–¥–∞—á–∏! üòâ
